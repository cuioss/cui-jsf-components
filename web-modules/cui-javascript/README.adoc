= cui javascript module

== Status

image:https://github.com/cuioss/cui-jsf-components/actions/workflows/maven.yml/badge.svg[Java CI with Maven,link=https://github.com/cuioss/cui-jsf-components/actions/workflows/maven.yml]
image:http://img.shields.io/:license-apache-blue.svg[License,link=http://www.apache.org/licenses/LICENSE-2.0.html]
image:https://maven-badges.herokuapp.com/maven-central/io.github.cuioss.jsf/cui-javascript/badge.svg[Maven Central,link=https://maven-badges.herokuapp.com/maven-central/io.github.cuioss.jsf/cui-javascript]


== What is it?

The javascript Module for the cui jsf components. The resulting scripts are: 

* `de.cuioss.javascript/cui.js`
* `de.cuioss.javascript/cui.min.js`

=== Maven Coordinates

[source,xml]
----
    <dependency>
        <groupId>de.cuioss.jsf</groupId>
        <artifactId>cui-javascript</artifactId>
    </dependency>
----

== Build-Structure

This module contains core JavaScript (ES6+) resources. The development and build process relies on Node.js and npm scripts for managing dependencies and executing build tasks.

The JavaScript sources are:
* Linted using ESLint (via `npm run lint`).
* Tested using Jest (via `npm test`).
* Concatenated using `concat`.
* Minified using `terser`.

These tasks are orchestrated by the `npm run build` script.

The development can take place in any preferred JavaScript-aware IDE (e.g., VS-Code).

The Maven build invokes these npm scripts using the https://github.com/eirslett/frontend-maven-plugin[frontend-maven-plugin].
The plugin executes `npm install` to fetch dependencies, followed by `npm run lint`, `npm test`, and finally `npm run build`.
The build output (concatenated and minified files) is generated in the `/target/uglify/` directory.
Maven then copies these files to the appropriate location for packaging into the JAR.

== Changes to pre cuioss

* de.cuioss.registerComponentEnabler -> Cui.Core.registerComponentEnabler
* PrimeFaces.escapeClientId, Cui.Utilities.escapeClientId

== TODOs

* Write sensible Unit-Tests: Comprehensive unit tests using Jest have been implemented for all JavaScript modules. Further refinement and edge-case coverage can always be added.
* Apply sensible Code-Structures: Ongoing effort to maintain and improve code quality.
* Separate scripts: Consider if the single `cui.js` / `cui.min.js` bundle should be broken down into smaller, more targeted scripts for specific functionalities.
* Move from jquery to `cash`: Evaluate replacing jQuery with a smaller alternative like `cash` for reduced bundle size.
